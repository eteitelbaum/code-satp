---
title: "Select Variables"
format: html
---

## Setup

```{r}
library(tidyverse)
satp_data <- read.csv("data/satp_clean.csv")
```


## Perpetrator

Here we look at the perpetrator of the violence. We will drop the categories of "Civilians" and "Non-Maoist armed group" as they have very few observations. Then we will save the data to a csv file along with the incident summary.

```{r}
# count number of observations in each perpetrator cateogry
satp_data |>
  count(perpetrator) # only 1 in Civilians, only 6 in non-Moaist armed group

# dropping civilian and non-Maoist armed group
perpetrator <- satp_data |>
  filter(perpetrator %in% c("Maoist", "Security", "Unknown")) |> 
  select(perpetrator, incident_summary)

write_csv(perpetrator, "data/perpetrator.csv")

glimpse(perpetrator)
```

## Action Type

Now we select all of the action types and save the data to a csv file along with the incident summary.

```{r}
action_type <- satp_data|>
  select(armed_assault:abduction, incident_summary)

write_csv(action_type, "data/action_type.csv")

glimpse(action_type)
```

## Deaths

Finally, we select the variables related to fatalities and save the data to a csv file along with the incident summary.

```{r}
deaths <- satp_data |>
  select(total_fatalities:other_armed_grp_fatalities, incident_summary) |>
  drop_na()

write_csv(deaths, "data/deaths.csv")

glimpse(deaths)
```



